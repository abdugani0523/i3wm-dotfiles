##-- Variables
set $mod Mod4
set $alt Mod1
set $left h
set $down j
set $up k
set $right l
set $term alacritty 
set $gnome-schema org.gnome.desktop.interface
set $dmenu-path /home/abdugani/.config/dmscripts/scripts

##-- Gaps
gaps outer 10
gaps inner 10

##-- Border
title_align center
default_border pixel 3


##-- Fonts
font pango:JetBrainsMono Nerd Font 11
 

##-- Input configuration
    exec --no-startup-id xinput set-prop "ELAN1200:00 04F3:309F Touchpad" "libinput Tapping Enabled" 1
    exec --no-startup-id xinput set-prop "ELAN1200:00 04F3:309F Touchpad" "libinput Natural Scrolling Enabled" 1

    # input * {
    #     xkb_layout  "us,ru"
    #     xkb_options "grp:alt_shift_toggle"
    # }

##-- Colors
# class                 border  bground text    indicator child_border
client.focused          #c678dd #c678dd #282c34 #98c379   #c678dd
client.focused_inactive #44475A #44475A #282c34 #44475A   #44475A
client.unfocused        #282A36 #282A36 #282c34 #282A36   #282A36
client.urgent           #44475A #e06c75 #282c34 #e06c75   #e06c75
client.placeholder      #282A36 #282A36 #282c34 #282A36   #282A36

client.background       #98c379
##-- GTK 3 Settings
    # exec_always {
    #     gsettings set $gnome-schema gtk-theme 'Gruvbox-Material-Dark'
    #     gsettings set $gnome-schema icon-theme 'Gruvbox-Material-Dark'
    #     gsettings set $gnome-schema cursor-theme 'macOSMonterey'
    # 


##-- Key bindings
    # Start a terminal
    bindsym $mod+Return exec $term
    bindsym $mod+Shift+Return exec $term --class="termfloat"

    # Kill focused window
    bindsym $mod+Shift+q kill

    # Drag floating windows by holding down $mod and left mouse button.
    # Resize them with right mouse button + $mod.
    # Despite the name, also works for non-floating windows.
    # Change normal to inverse to use left mouse button for resizing and right
    # mouse button for dragging.
    floating_modifier $mod

    # Reload the configuration file
    bindsym $mod+Shift+c reload

    # Exit sway (logs you out of your Wayland session)
    bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"


##-- Dmenu --
bindsym $mod+d  				exec --no-startup-id dmenu_run -l 10 -p "Search:"
bindsym $mod+n 					exec --no-startup-id ~/.config/rofi/bin/network_menu
bindsym $mod+x 					exec --no-startup-id "$dmenu-path/dm-logout"
bindsym $mod+m 					exec --no-startup-id ~/.config/rofi/bin/mpd
bindsym $mod+i 					exec --no-startup-id ~/.config/rofi/bin/network
bindsym Print 	    			exec --no-startup-id ~/.config/rofi/bin/screenshot
bindsym $alt+r   				exec --no-startup-id ~/.config/rofi/bin/asroot
bindsym $mod+Shift+n exec --no-startup-id flash_window


##-- Lockscreen
bindsym $mod+$alt+l exec i3lock


#
# Moving around:
#
    # Move your focus around
    bindsym $mod+$left focus left
    bindsym $mod+$down focus down
    bindsym $mod+$up focus up
    bindsym $mod+$right focus right
    # Or use $mod+[up|down|left|right]
    bindsym $mod+Left focus left
    bindsym $mod+Down focus down
    bindsym $mod+Up focus up
    bindsym $mod+Right focus right

    # Move the focused window with the same, but add Shift
    bindsym $mod+Shift+$left move left
    bindsym $mod+Shift+$down move down
    bindsym $mod+Shift+$up move up
    bindsym $mod+Shift+$right move right
    # Ditto, with arrow keys
    bindsym $mod+Shift+Left move left
    bindsym $mod+Shift+Down move down
    bindsym $mod+Shift+Up move up
    bindsym $mod+Shift+Right move right

##-- Workspaces:
    set $workspace1 "1:  "
    set $workspace2 "2:  "
    set $workspace3 "3:  "
    set $workspace4 "4:  "
    set $workspace5 "5:  "
    set $workspace6 "6:  "
    set $workspace7 "7:  "
    set $workspace8 "8"
    set $workspace9 "9"
    set $workspace10 "10"


    bindsym $mod+1 workspace $workspace1
    bindsym $mod+2 workspace $workspace2
    bindsym $mod+3 workspace $workspace3
    bindsym $mod+4 workspace $workspace4
    bindsym $mod+5 workspace $workspace5
    bindsym $mod+6 workspace $workspace6
    bindsym $mod+7 workspace $workspace7
    bindsym $mod+8 workspace number $workspace8
    bindsym $mod+9 workspace number $workspace9
    bindsym $mod+0 workspace number $workspace10

    bindsym $mod+Shift+1 move container to workspace $workspace1
    bindsym $mod+Shift+2 move container to workspace $workspace2
    bindsym $mod+Shift+3 move container to workspace $workspace3
    bindsym $mod+Shift+4 move container to workspace $workspace4
    bindsym $mod+Shift+5 move container to workspace $workspace5
    bindsym $mod+Shift+6 move container to workspace $workspace6
    bindsym $mod+Shift+7 move container to workspace $workspace7
    bindsym $mod+Shift+8 move container to workspace number $workspace8
    bindsym $mod+Shift+9 move container to workspace number $workspace9
    bindsym $mod+Shift+0 move container to workspace number $workspace10
    # Note: workspaces can have any name you want, not just numbers.
    # We just use 1-10 as the default.

##-- Layout stuff:
    bindsym $mod+b splith
    bindsym $mod+v splitv

    bindsym $mod+s layout stacking
    bindsym $mod+w layout tabbed
    bindsym $mod+e layout toggle split

    bindsym $mod+f fullscreen
    bindsym $mod+Shift+space floating toggle
    bindsym $mod+space focus mode_toggle
    bindsym $mod+a focus parent


##-- Scratchpad:
    bindsym $mod+Shift+minus move scratchpad
    bindsym $mod+minus scratchpad show


# -- Function keys --
bindsym XF86MonBrightnessUp     	exec --no-startup-id "brightnessctl set +5%"
bindsym XF86MonBrightnessDown   	exec --no-startup-id "brightnessctl set 5%-"
bindsym XF86AudioRaiseVolume 	        exec --no-startup-id "pamixer -i 5"
bindsym XF86AudioLowerVolume 	        exec --no-startup-id "pamixer -d 5"
bindsym XF86AudioMute 			exec --no-startup-id "pamixer -t"
bindsym XF86AudioNext 			exec --no-startup-id "mpc next"
bindsym XF86AudioPrev 			exec --no-startup-id "mpc prev"
bindsym XF86AudioPlay 			exec --no-startup-id "mpc toggle"
bindsym XF86AudioStop 			exec --no-startup-id "mpc stop"
bindsym XF86TouchpadToggle  	exec --no-startup-id "$HOME/.config/i3/scripts/touchpad_toggle.sh"


##-- Resizing containers:
    bindsym $mod+r mode "resize"
    mode "resize" {
        bindsym $left resize shrink width 10px
        bindsym $down resize grow height 10px
        bindsym $up resize shrink height 10px
        bindsym $right resize grow width 10px
    
        bindsym Left resize shrink width 10px
        bindsym Down resize grow height 10px
        bindsym Up resize shrink height 10px
        bindsym Right resize grow width 10px
    
        bindsym Return mode "default"
        bindsym Escape mode "default"
    }

##-- Window rules
    for_window [class="stacer"] floating enable
    for_window [class="Pcmanfm"] floating enable
    for_window [class="Pavucontrol"] floating enable 
    for_window [class="Alacritty" instance="termfloat"] floating enable 
    for_window [class="Nm-connection-editor"] floating enable
    for_window [class="Virt-manager"] floating enable
    for_window [class="Lxappearance"] floating enable
     
    assign [class="Alacritty"] $workspace1
    assign [class="Google-chrome"] $workspace2
    assign [class="neovide"] $workspace3
    assign [class="Code"] $workspace3
    assign [class="TelegramDesktop"] $workspace4
    assign [class="Pcmanfm"] $workspace5
    assign [class="Leafpad"] $workspace6
    assign [class="Lxappearance"] $workspace7

##-- Bar 
    bar {
        status_command i3status-rs 
    #    tray_output none
        position top
        colors {
            background #282A36
            statusline #abb2bf
            separator  #282A36

            focused_workspace  #98c379 #98c379 #282c34
            active_workspace   #c678dd #c678dd #282c34
            inactive_workspace #c678dd #c678dd #282c34
            urgent_workspace   #FF5555 #FF5555 #282c34
            binding_mode       #e5c07b #e5c07b #282c34
        }
    }

##-- Autostart
    exec --no-startup-id picom
    exec --no-startup-id nitrogen --restore
    exec --no-startup-id lxsession
    exec --no-startup-id alternating_layouts.py
    exec_always --no-startup-id flashfocus
